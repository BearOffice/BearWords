/* Bootstrap 5 Color Theme Override */
:root {
    /* Primary colors - Softer purple for better balance */
    --bs-primary: #8174A0;
    --bs-primary-rgb: 129, 116, 160;
    --bs-primary-bg-subtle: #FFC687;
    --bs-primary-border-subtle: #EFB6C8;
    --bs-primary-text-emphasis: #8174A0;
    /* Secondary colors - Lighter purple tone */
    --bs-secondary: #A888B5;
    --bs-secondary-rgb: 168, 136, 181;
    --bs-secondary-bg-subtle: #EFB6C8;
    --bs-secondary-border-subtle: #A888B5;
    --bs-secondary-text-emphasis: #5F6F65;
    /* Success colors - Fresh green */
    --bs-success: #5F6F65;
    --bs-success-rgb: 95, 111, 101;
    --bs-success-bg-subtle: #96CEB4;
    --bs-success-border-subtle: #9CA986;
    --bs-success-text-emphasis: #5F6F65;
    /* Info colors - Calm blue */
    --bs-info: #7EACB5;
    --bs-info-rgb: 126, 172, 181;
    --bs-info-bg-subtle: #FFF4EA;
    --bs-info-border-subtle: #7EACB5;
    --bs-info-text-emphasis: #5F6F65;
    /* Warning colors - Vibrant amber */
    --bs-warning: #FFAD60;
    --bs-warning-rgb: 255, 173, 96;
    --bs-warning-bg-subtle: #FFC687;
    --bs-warning-border-subtle: #FFAD60;
    --bs-warning-text-emphasis: #A02334;
    /* Danger colors - Strong red */
    --bs-danger: #AF1740;
    --bs-danger-rgb: 175, 23, 64;
    --bs-danger-bg-subtle: #FFCDB2;
    --bs-danger-border-subtle: #CC2B52;
    --bs-danger-text-emphasis: #740938;
    /* Light and Dark - High contrast */
    --bs-light: #FFF4EA;
    --bs-light-rgb: 255, 244, 234;
    --bs-light-bg-subtle: #FFC687;
    --bs-light-border-subtle: #EFB6C8;
    --bs-light-text-emphasis: #8174A0;
    --bs-dark: #5F6F65;
    --bs-dark-rgb: 95, 111, 101;
    --bs-dark-bg-subtle: #8174A0;
    --bs-dark-border-subtle: #5F6F65;
    --bs-dark-text-emphasis: #FFF4EA;
    /* Link colors */
    --bs-link-color: #8174A0;
    --bs-link-hover-color: #A888B5;
    /* Button colors */
    --bs-btn-close-color: #8174A0;

    scroll-behavior: auto;
}

/* Dark theme overrides */
[data-bs-theme="dark"] {
    --bs-primary: #A888B5;
    --bs-primary-rgb: 168, 136, 181;
    --bs-primary-bg-subtle: #8174A0;
    --bs-primary-border-subtle: #A888B5;
    --bs-primary-text-emphasis: #FFC687;
    --bs-secondary: #9B8AA3;
    --bs-secondary-rgb: 155, 138, 163;
    --bs-secondary-bg-subtle: #8174A0;
    --bs-secondary-border-subtle: #9B8AA3;
    --bs-secondary-text-emphasis: #FFC687;
    --bs-warning: #FFC687;
    --bs-warning-rgb: 255, 210, 160;
    --bs-warning-bg-subtle: #FFAD60;
    --bs-warning-border-subtle: #FFC687;
    --bs-warning-text-emphasis: #A02334;
    --bs-danger: #DE7C7D;
    --bs-danger-rgb: 222, 124, 125;
    --bs-danger-bg-subtle: #AF1740;
    --bs-danger-border-subtle: #CC2B52;
    --bs-danger-text-emphasis: #FFCDB2;
    --bs-light: #8174A0;
    --bs-light-rgb: 129, 116, 160;
    --bs-light-bg-subtle: #A888B5;
    --bs-light-border-subtle: #EFB6C8;
    --bs-light-text-emphasis: #FFC687;
    --bs-dark: #FFF4EA;
    --bs-dark-rgb: 255, 244, 234;
    --bs-dark-bg-subtle: #FFC687;
    --bs-dark-border-subtle: #FFF4EA;
    --bs-dark-text-emphasis: #8174A0;
    --bs-link-color: #D4A5C7;
    --bs-link-hover-color: #FFC687;
}

/* Override specific utility classes */
.bg-primary {
    background-color: var(--bs-primary) !important;
}

.bg-secondary {
    background-color: var(--bs-secondary) !important;
}

.bg-success {
    background-color: var(--bs-success) !important;
}

.bg-info {
    background-color: var(--bs-info) !important;
}

.bg-warning {
    background-color: var(--bs-warning) !important;
}

.bg-danger {
    background-color: var(--bs-danger) !important;
}

.bg-light {
    background-color: var(--bs-light) !important;
}

.bg-dark {
    background-color: var(--bs-dark) !important;
}

.text-primary {
    color: var(--bs-primary) !important;
}

.text-secondary {
    color: var(--bs-secondary) !important;
}

.text-success {
    color: var(--bs-success) !important;
}

.text-info {
    color: var(--bs-info) !important;
}

.text-warning {
    color: var(--bs-warning) !important;
}

.text-danger {
    color: var(--bs-danger) !important;
}

.text-light {
    color: var(--bs-light) !important;
}

.text-dark {
    color: var(--bs-dark) !important;
}

.border-primary {
    border-color: var(--bs-primary) !important;
}

.border-secondary {
    border-color: var(--bs-secondary) !important;
}

.border-success {
    border-color: var(--bs-success) !important;
}

.border-info {
    border-color: var(--bs-info) !important;
}

.border-warning {
    border-color: var(--bs-warning) !important;
}

.border-danger {
    border-color: var(--bs-danger) !important;
}

.border-light {
    border-color: var(--bs-light) !important;
}

.border-dark {
    border-color: var(--bs-dark) !important;
}

/* Button overrides */
.btn-primary {
    background-color: var(--bs-primary);
    border-color: var(--bs-primary);
    color: white;
}

    .btn-primary:hover, .btn-primary:focus {
        background-color: #A888B5 !important;
        border-color: #A888B5 !important;
        color: white;
    }

    .btn-primary:active, .btn-primary.active {
        background-color: #6D5A7A !important;
        border-color: #6D5A7A !important;
        color: white;
    }

    .btn-primary:disabled,
    .btn-primary.disabled {
        background-color: #A599B8;
        border-color: #A599B8;
        color: rgba(255, 255, 255, 0.65);
        opacity: 0.65;
    }

.btn-secondary {
    background-color: var(--bs-secondary);
    border-color: var(--bs-secondary);
    color: white;
}

    .btn-secondary:hover, .btn-secondary:focus {
        background-color: #EFB6C8 !important;
        border-color: #EFB6C8 !important;
        color: white;
    }

    .btn-secondary:active, .btn-secondary.active {
        background-color: #8B7B95 !important;
        border-color: #8B7B95 !important;
        color: white;
    }

.btn-danger {
    background-color: var(--bs-danger);
    border-color: var(--bs-danger);
    color: white;
}

    .btn-danger:hover, .btn-danger:focus {
        background-color: #CC2B52 !important;
        border-color: #CC2B52 !important;
        color: white;
    }

    .btn-danger:active, .btn-danger.active {
        background-color: #8B1430 !important;
        border-color: #8B1430 !important;
        color: white;
    }

.btn-warning {
    background-color: var(--bs-warning);
    border-color: var(--bs-warning);
    color: #A02334;
}

    .btn-warning:hover, .btn-warning:focus {
        background-color: #FFC687 !important;
        border-color: #FFC687 !important;
        color: #A02334;
    }

    .btn-warning:active, .btn-warning.active {
        background-color: #E8934A !important;
        border-color: #E8934A !important;
        color: white;
    }

.btn-outline-primary {
    color: var(--bs-primary) !important;
    border-color: var(--bs-primary) !important;
}

    .btn-outline-primary:hover, .btn-outline-primary:focus {
        background-color: var(--bs-primary) !important;
        border-color: var(--bs-primary) !important;
        color: white !important;
    }

    .btn-outline-primary:active, .btn-outline-primary.active {
        background-color: #6D5A7A !important;
        border-color: #6D5A7A !important;
        color: white !important;
    }

    .btn-outline-primary:disabled,
    .btn-outline-primary.disabled {
        color: #A599B8;
        border-color: #A599B8;
        background-color: transparent;
        opacity: 0.65;
    }

.btn-outline-secondary {
    color: var(--bs-secondary);
    border-color: var(--bs-secondary);
}

    .btn-outline-secondary:hover, .btn-outline-secondary:focus {
        background-color: var(--bs-secondary);
        border-color: var(--bs-secondary);
        color: white;
    }

    .btn-outline-secondary:active, .btn-outline-secondary.active {
        background-color: #8B7B95 !important;
        border-color: #8B7B95 !important;
        color: white;
    }

.btn-outline-danger {
    color: var(--bs-danger);
    border-color: var(--bs-danger);
}

    .btn-outline-danger:hover, .btn-outline-danger:focus {
        background-color: var(--bs-danger);
        border-color: var(--bs-danger);
        color: white;
    }

    .btn-outline-danger:active, .btn-outline-danger.active {
        background-color: #8B1430 !important;
        border-color: #8B1430 !important;
        color: white;
    }

.btn-outline-warning {
    color: var(--bs-warning);
    border-color: var(--bs-warning);
}

    .btn-outline-warning:hover, .btn-outline-warning:focus {
        background-color: var(--bs-warning);
        border-color: var(--bs-warning);
        color: #A02334;
    }

    .btn-outline-warning:active, .btn-outline-warning.active {
        background-color: #E8934A !important;
        border-color: #E8934A !important;
        color: white;
    }

/* Form control overrides with higher specificity */
.form-check-input:checked {
    background-color: var(--bs-primary) !important;
    border-color: var(--bs-primary) !important;
}

.form-check-input:focus {
    border-color: #A888B5 !important;
    box-shadow: 0 0 0 0.25rem rgba(129, 116, 160, 0.25) !important;
}

.form-check-input:checked:focus {
    box-shadow: 0 0 0 0.25rem rgba(129, 116, 160, 0.25) !important;
}

/* Button focus states with higher specificity */
.btn-primary:focus, .btn-primary.focus {
    box-shadow: 0 0 0 0.25rem rgba(129, 116, 160, 0.25) !important;
}

.btn-secondary:focus, .btn-secondary.focus {
    box-shadow: 0 0 0 0.25rem rgba(168, 136, 181, 0.25) !important;
}

.btn-danger:focus, .btn-danger.focus {
    box-shadow: 0 0 0 0.25rem rgba(175, 23, 64, 0.25) !important;
}

.btn-warning:focus, .btn-warning.focus {
    box-shadow: 0 0 0 0.25rem rgba(255, 173, 96, 0.25) !important;
}

.btn-outline-primary:focus, .btn-outline-primary.focus {
    box-shadow: 0 0 0 0.25rem rgba(129, 116, 160, 0.25) !important;
}

.btn-outline-secondary:focus, .btn-outline-secondary.focus {
    box-shadow: 0 0 0 0.25rem rgba(168, 136, 181, 0.25) !important;
}

.btn-outline-danger:focus, .btn-outline-danger.focus {
    box-shadow: 0 0 0 0.25rem rgba(175, 23, 64, 0.25) !important;
}

.btn-outline-warning:focus, .btn-outline-warning.focus {
    box-shadow: 0 0 0 0.25rem rgba(255, 173, 96, 0.25) !important;
}

/* Button check (toggle buttons) */
.btn-check:checked + .btn-primary,
.btn-check:active + .btn-primary {
    background-color: #6D5A7A !important;
    border-color: #6D5A7A !important;
    color: white !important;
}

.btn-check:checked + .btn-secondary,
.btn-check:active + .btn-secondary {
    background-color: #8B7B95 !important;
    border-color: #8B7B95 !important;
    color: white !important;
}

.btn-check:checked + .btn-outline-primary,
.btn-check:active + .btn-outline-primary {
    background-color: #6D5A7A !important;
    border-color: #6D5A7A !important;
    color: white !important;
}

.btn-check:checked + .btn-outline-secondary,
.btn-check:active + .btn-outline-secondary {
    background-color: #8B7B95 !important;
    border-color: #8B7B95 !important;
    color: white !important;
}

/* Form elements with higher specificity */
.form-control:focus {
    border-color: #A888B5 !important;
    box-shadow: 0 0 0 0.25rem rgba(129, 116, 160, 0.25) !important;
}

.form-select:focus {
    border-color: #A888B5 !important;
    box-shadow: 0 0 0 0.25rem rgba(129, 116, 160, 0.25) !important;
}

/* Additional focus overrides for common elements */
input[type="text"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
input[type="number"]:focus,
input[type="tel"]:focus,
input[type="url"]:focus,
input[type="search"]:focus,
textarea:focus {
    border-color: #A888B5 !important;
    box-shadow: 0 0 0 0.25rem rgba(129, 116, 160, 0.25) !important;
}

/* Override Bootstrap's btn-check focus colors */
.btn-check:focus + .btn,
.btn-check:focus + .btn-primary,
.btn-check:focus + .btn-secondary,
.btn-check:focus + .btn-outline-primary,
.btn-check:focus + .btn-outline-secondary {
    box-shadow: 0 0 0 0.25rem rgba(129, 116, 160, 0.25) !important;
}

/* Progress bar overrides */
.progress-bar {
    background-color: var(--bs-primary);
}

.progress-bar-striped {
    background-color: var(--bs-primary);
    background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}

.bg-primary .progress-bar {
    background-color: var(--bs-primary);
}

.bg-secondary .progress-bar {
    background-color: var(--bs-secondary);
}

.bg-success .progress-bar {
    background-color: var(--bs-success);
}

.bg-info .progress-bar {
    background-color: var(--bs-info);
}

.bg-warning .progress-bar {
    background-color: var(--bs-warning);
}

.bg-danger .progress-bar {
    background-color: var(--bs-danger);
}

.progress-bar-animated {
    background-color: var(--bs-primary);
}

/* Dropdown overrides */
.dropdown-menu {
    border-color: var(--bs-border-color);
    box-shadow: 0 0.5rem 1rem rgba(129, 116, 160, 0.15);
}

.dropdown-item {
    color: var(--bs-body-color);
}

    .dropdown-item:hover,
    .dropdown-item:focus {
        background-color: var(--bs-primary-bg-subtle);
    }

    .dropdown-item:active {
        background-color: var(--bs-primary);
        color: white;
    }

    .dropdown-item.active {
        background-color: var(--bs-primary);
        color: white;
    }

    .dropdown-item:disabled,
    .dropdown-item.disabled {
        color: var(--bs-secondary);
        background-color: transparent;
    }

.dropdown-divider {
    border-top-color: var(--bs-border-color);
}

.dropdown-header {
    color: var(--bs-secondary);
}

.dropdown-toggle:active,
.dropdown-toggle.show {
    background-color: var(--bs-primary);
    border-color: var(--bs-primary);
    color: white;
}

/* Pagination overrides */
.page-link {
    color: var(--bs-primary);
    border-color: var(--bs-border-color);
    background-color: var(--bs-body-bg);
}

    .page-link:hover {
        color: white;
        background-color: var(--bs-primary);
        border-color: var(--bs-primary);
    }

    .page-link:focus {
        color: var(--bs-primary);
        background-color: var(--bs-primary-bg-subtle);
        border-color: var(--bs-primary);
        box-shadow: 0 0 0 0.25rem rgba(129, 116, 160, 0.25);
    }

.page-item.active .page-link {
    background-color: var(--bs-primary);
    border-color: var(--bs-primary);
    color: white;
}

.page-item.disabled .page-link {
    color: var(--bs-secondary);
    background-color: var(--bs-secondary-bg-subtle);
    border-color: var(--bs-border-color);
}


/* Additional custom styles */
.card-body {
    overflow: hidden;
}

.card-title {
    overflow-wrap: anywhere;
}

.list-group-item {
    overflow: hidden;
}

.modal-body {
    overflow: hidden;
}

.sticky-search {
    position: sticky;
    top: 0;
    z-index: 1020;
    background-color: var(--bs-body-bg);
    padding: 1rem 0;
    border-bottom: 1px solid var(--bs-border-color);
}

.page-links {
    padding: 0 0 1rem 0;
    border-bottom: 1px solid var(--bs-border-color);
}

.tag-badge {
    cursor: pointer;
    transition: all 0.2s;
    background-color: #9FA6B2;
    color: white;
}

    .tag-badge:hover {
        transform: scale(1.05);
    }

    .tag-badge.selected {
        background-color: var(--bs-primary) !important;
        color: white;
    }

.badge.activated {
    background-color: var(--bs-primary) !important;
    color: white;
}

.bookmark-card {
    transition: all 0.3s;
}

    .bookmark-card:hover {
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

.category-header {
    position: sticky;
    top: 0px;
    background-color: var(--bs-body-bg);
    z-index: 1010;
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--bs-border-color);
}

.bi.spin-icon {
    animation: spin 1s linear infinite !important;
    display: inline-block;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }

    100% {
        transform: rotate(360deg);
    }
}

/* Dark mode specific styles */
[data-bs-theme="dark"] .bookmark-card:hover {
    box-shadow: 0 4px 8px rgba(255, 255, 255, 0.1);
}

h1:focus {
    outline: none;
}

.valid.modified:not([type=checkbox]) {
    outline: 1px solid #198754;
}

.invalid {
    outline: 1px solid #dc3545;
}

.validation-message {
    color: #dc3545;
}

#blazor-error-ui {
    background: #fff3cd;
    bottom: 0;
    box-shadow: 0 -1px 2px rgba(0, 0, 0, 0.2);
    display: none;
    left: 0;
    padding: 0.6rem 1.25rem 0.7rem 1.25rem;
    position: fixed;
    width: 100%;
    z-index: 1000;
    border-top: 1px solid #ffeaa7;
}

    #blazor-error-ui .dismiss {
        cursor: pointer;
        position: absolute;
        right: 0.75rem;
        top: 0.5rem;
    }

.blazor-error-boundary {
    background: #dc3545;
    padding: 1rem 1rem 1rem 3.7rem;
    color: white;
}

    .blazor-error-boundary::after {
        content: "An error has occurred."
    }

.status-bar-safe-area {
    display: none;
}

@supports (-webkit-touch-callout: none) {
    body {
        padding-top: env(safe-area-inset-top);
        padding-right: env(safe-area-inset-right);
        padding-bottom: env(safe-area-inset-bottom);
        padding-left: env(safe-area-inset-left);
    }

    .status-bar-safe-area {
        display: flex;
        position: sticky;
        top: 0;
        height: env(safe-area-inset-top);
        background-color: #f8f9fa;
        width: 100%;
        z-index: 1;
    }

    .flex-column, .navbar-brand {
        padding-left: env(safe-area-inset-left);
    }
}

* {
    -webkit-tap-highlight-color: transparent;
}

    *:not(input) {
        -webkit-user-drag: none;
    }
